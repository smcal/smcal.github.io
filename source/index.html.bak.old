<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Wildfires</title>
    <script type="text/javascript" src="../libs/d3.js"></script>


</head>
<body>

<script type="text/javascript">
    // Your beautiful D3 code will go here

    var dataset = [];
    var dataset2 = [];
    var xScale, yScale;
    var dataSumYearCause = [];
    var dateParse = d3.timeFormat("%B %d, %Y");
    var dateMonthYear = d3.timeFormat("%B, %Y");

    var dateCalc = function( year, dayOfyear )
    {
        var temp = new Date( year );

        return temp.setDate(temp.getDate() + dayOfyear);
    };


    d3.request("../data/CaliforniaFires.csv")
        .mimeType("text/csv")
        .get( function( response )
        {
            var rows = d3.csvParseRows( response.responseText );

            for(var i = 1; i < rows.length; ++i) {
                /*var dayOfYear = parseInt(rows[i][0]);
                var fireName = rows[i][1];
                var fireSize = rows[i][2];
                var fireYear = rows[i][3];
                var fireLat = parseFloat(rows[i][4]);
                var fireLon = parseFloat(rows[i][5]);
                var fireState = rows[i][6];
                var fireCause = rows[i][7];*/


               /* dataset[i - 1] =
                    {
                        "FireDate": dateCalc(fireYear, dayOfYear),
                        "FireName": fireName,
                        "FireSize": fireSize,
                        "FireLat": fireLat,
                        "FireLon": fireLon,
                        "FireState": fireState,
                        "FireCause": fireCause
                    };*/

                if(!isNaN(dataset[[rows[i][3], rows[i][7]]]))
                {
                    dataset[[rows[i][3], rows[i][7]]] += Math.floor(Math.round(parseFloat(rows[i][2])));
                }
                else
                {
                    dataset[[rows[i][3], rows[i][7]]] = 0;
                }
                //console.log(parseFloat(rows[i][2]));

            }

        });



    </script>

</body>
</html>